{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/caizhengying/Desktop/NTU/114-1/%E8%B3%87%E6%96%99%E5%BA%AB/Final_Project/DBMS_FP/src/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,uMAAY,EAAC,aAAa"}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/caizhengying/Desktop/NTU/114-1/%E8%B3%87%E6%96%99%E5%BA%AB/Final_Project/DBMS_FP/src/components/BottomNav.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\n\nexport default function BottomNav() {\n  const pathname = usePathname();\n\n  const navItems = [\n    { href: '/', label: 'ËàûÂúòÁÄèË¶Ω', icon: 'üè†' },\n    { href: '/profile', label: 'ÂÄã‰∫∫Ê™îÊ°à', icon: 'üë§' },\n  ];\n\n  return (\n    <nav className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50\">\n      <div className=\"flex justify-around items-center py-2\">\n        {navItems.map((item) => {\n          const isActive = pathname === item.href;\n          return (\n            <Link\n              key={item.href}\n              href={item.href}\n              className={`flex flex-col items-center gap-1 py-2 px-4 rounded-lg transition-colors ${\n                isActive ? 'text-purple-600' : 'text-gray-600 hover:text-gray-800'\n              }`}\n            >\n              <span className=\"text-2xl\">{item.icon}</span>\n              <span className=\"text-xs font-medium\">{item.label}</span>\n            </Link>\n          );\n        })}\n      </div>\n    </nav>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAE5B,MAAM,WAAW;QACf;YAAE,MAAM;YAAK,OAAO;YAAQ,MAAM;QAAK;QACvC;YAAE,MAAM;YAAY,OAAO;YAAQ,MAAM;QAAK;KAC/C;IAED,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,SAAS,GAAG,CAAC,CAAC;gBACb,MAAM,WAAW,aAAa,KAAK,IAAI;gBACvC,qBACE,8OAAC,uKAAI;oBAEH,MAAM,KAAK,IAAI;oBACf,WAAW,CAAC,wEAAwE,EAClF,WAAW,oBAAoB,qCAC/B;;sCAEF,8OAAC;4BAAK,WAAU;sCAAY,KAAK,IAAI;;;;;;sCACrC,8OAAC;4BAAK,WAAU;sCAAuB,KAAK,KAAK;;;;;;;mBAP5C,KAAK,IAAI;;;;;YAUpB;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 114, "column": 0}, "map": {"version":3,"sources":["file:///Users/caizhengying/Desktop/NTU/114-1/%E8%B3%87%E6%96%99%E5%BA%AB/Final_Project/DBMS_FP/src/app/project/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { supabase } from '@/lib/supabase';\nimport BottomNav from '@/components/BottomNav';\n\ninterface Song {\n  song_id: number;\n  title: string;\n  difficulty_level: number;\n}\n\nexport default function CreateProjectPage() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [songs, setSongs] = useState<Song[]>([]);\n  const [error, setError] = useState('');\n  const [userId, setUserId] = useState<string | null>(null);\n\n  const [formData, setFormData] = useState({\n    song_id: '',\n    porject_title: '',\n    target_cnt: '',\n    practice_location: '',\n    performance_location: '',\n    discription: '',\n  });\n\n  const [practiceSchedules, setPracticeSchedules] = useState<Array<{\n    date: string;\n    start_time: string;\n    end_time: string;\n  }>>([]);\n\n  const [targetPositions, setTargetPositions] = useState<Array<{\n    target_seq: number;\n    idol_id: string;\n  }>>([]);\n\n  const [idols, setIdols] = useState<Array<{ idol_id: number; stage_name: string; group_name: string }>>([]);\n  const [songIdols, setSongIdols] = useState<Array<{ idol_id: number; stage_name: string; group_name: string }>>([]);\n  const [selectedPosition, setSelectedPosition] = useState<string>(''); // Áî®Êà∂ÈÅ∏ÊìáËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ\n  const [dancerCount, setDancerCount] = useState<string>('0'); // ‰º¥ËàûÊï∏Èáè\n\n  useEffect(() => {\n    const id = localStorage.getItem('userId');\n    if (!id) {\n      router.push('/auth');\n      return;\n    }\n    setUserId(id);\n    fetchSongs();\n  }, [router]);\n\n  // Áï∂ÈÅ∏ÂèñÊ≠åÊõ≤ÊôÇÔºåÁç≤ÂèñÂúòÈ´îÊàêÂì°Êï∏ÂíåË©≤Ê≠åÊõ≤ÁöÑÂÅ∂ÂÉèÂàóË°®\n  useEffect(() => {\n    if (formData.song_id) {\n      fetchSongGroupInfo(formData.song_id);\n      fetchSongIdols(formData.song_id);\n    } else {\n      setSongIdols([]);\n      setSelectedPosition('');\n      setTargetPositions([]);\n    }\n  }, [formData.song_id]);\n\n  // Áï∂Áî®Êà∂ÈÅ∏ÊìáËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆÊôÇÔºåËá™ÂãïÁîüÊàêË¶ÅÂæµÁöÑ‰ΩçÁΩÆÂàóË°®\n  useEffect(() => {\n    if (selectedPosition && songIdols.length > 0) {\n      // ÈÅéÊøæÊéâÁî®Êà∂ÈÅ∏ÊìáÁöÑ‰ΩçÁΩÆÔºåÂâ©‰∏ãÁöÑÂ∞±ÊòØË¶ÅÂæµÁöÑ‰ΩçÁΩÆ\n      // ‰ΩøÁî®ÂéüÂßãÁ¥¢Âºï‰ΩúÁÇ∫ target_seqÔºåÁ¢∫‰øù‰∏çÈáçË§á\n      const positions = songIdols\n        .map((idol, originalIndex) => ({\n          originalIndex: originalIndex + 1, // ÂéüÂßã‰ΩçÁΩÆÁ∑®ËôüÔºàÂæû1ÈñãÂßãÔºâ\n          idol: idol,\n        }))\n        .filter(item => item.idol.idol_id.toString() !== selectedPosition)\n        .map(item => ({\n          target_seq: item.originalIndex, // ‰ΩøÁî®ÂéüÂßã‰ΩçÁΩÆÁ∑®Ëôü\n          idol_id: item.idol.idol_id.toString(),\n        }));\n      \n      setTargetPositions(positions);\n    } else {\n      setTargetPositions([]);\n    }\n  }, [selectedPosition, songIdols]);\n\n  const fetchSongs = async () => {\n    const { data } = await supabase\n      .from('kpop_songs')\n      .select('song_id, title, difficulty_level')\n      .order('title');\n    if (data) setSongs(data);\n  };\n\n  // Áç≤ÂèñÊ≠åÊõ≤Â∞çÊáâÁöÑÂúòÈ´îË≥áË®äÂíåÊàêÂì°Êï∏\n  const fetchSongGroupInfo = async (songId: string) => {\n    try {\n      // Áç≤ÂèñÊ≠åÊõ≤Â∞çÊáâÁöÑÂúòÈ´î\n      const { data: songGroups } = await supabase\n        .from('song_group')\n        .select('group_id')\n        .eq('song_id', parseInt(songId))\n        .limit(1);\n\n      if (songGroups && songGroups.length > 0) {\n        // Áç≤ÂèñÂúòÈ´îÁöÑÊàêÂì°Êï∏\n        const { data: group } = await supabase\n          .from('kpop_groups')\n          .select('member_count')\n          .eq('group_id', songGroups[0].group_id)\n          .single();\n\n        if (group) {\n          // Ëá™ÂãïË®≠ÂÆöÁõÆÊ®ô‰∫∫Êï∏ÁÇ∫ÂúòÈ´îÊàêÂì°Êï∏\n          setFormData(prev => ({ ...prev, target_cnt: group.member_count.toString() }));\n        }\n      }\n    } catch (err) {\n      console.error('Error fetching group info:', err);\n    }\n  };\n\n  // Áç≤ÂèñÊ≠åÊõ≤Â∞çÊáâÁöÑÊâÄÊúâÂÅ∂ÂÉè\n  const fetchSongIdols = async (songId: string) => {\n    try {\n      // Áç≤ÂèñÊ≠åÊõ≤Â∞çÊáâÁöÑÂÅ∂ÂÉè\n      const { data: songIdolsData } = await supabase\n        .from('song_idol')\n        .select('idol_id')\n        .eq('song_id', parseInt(songId));\n\n      if (songIdolsData && songIdolsData.length > 0) {\n        const idolIds = songIdolsData.map(item => item.idol_id);\n        \n        // Áç≤ÂèñÈÄô‰∫õÂÅ∂ÂÉèÁöÑË©≥Á¥∞Ë≥áË®ä\n        const { data: idolsData } = await supabase\n          .from('kpop_idols')\n          .select(`\n            idol_id,\n            stage_name,\n            kpop_groups!inner(group_name)\n          `)\n          .in('idol_id', idolIds);\n\n        if (idolsData) {\n          const formattedIdols = idolsData.map((item: any) => ({\n            idol_id: item.idol_id,\n            stage_name: item.stage_name,\n            group_name: item.kpop_groups?.group_name || '',\n          }));\n          setSongIdols(formattedIdols);\n        }\n      } else {\n        setSongIdols([]);\n      }\n    } catch (err) {\n      console.error('Error fetching song idols:', err);\n      setSongIdols([]);\n    }\n  };\n\n  const addPracticeSchedule = () => {\n    // Á¢∫‰øùÊñ∞Â¢ûÁöÑÊôÇÈñìÊ¨Ñ‰ΩçÈÉΩÊòØÁ©∫Â≠ó‰∏≤ÔºåÈÅøÂÖçÁÄèË¶ΩÂô®È°ØÁ§∫È†êË®≠ÂÄº\n    setPracticeSchedules([...practiceSchedules, { \n      date: '', \n      start_time: '', \n      end_time: '' \n    }]);\n  };\n\n  const removePracticeSchedule = (index: number) => {\n    setPracticeSchedules(practiceSchedules.filter((_, i) => i !== index));\n  };\n\n  const updatePracticeSchedule = (index: number, field: string, value: string) => {\n    const updated = [...practiceSchedules];\n    // Á¢∫‰øùÊôÇÈñìÂÄºÁÇ∫Á©∫Â≠ó‰∏≤ËÄå‰∏çÊòØ undefined Êàñ null\n    updated[index] = { \n      ...updated[index], \n      [field]: value === null || value === undefined ? '' : value \n    };\n    setPracticeSchedules(updated);\n  };\n\n  // ÁîüÊàêÂ∞èÊôÇÈÅ∏È†ÖÔºà0-23Ôºâ\n  const generateHourOptions = () => {\n    return Array.from({ length: 24 }, (_, i) => {\n      const hour = i.toString().padStart(2, '0');\n      return { value: hour, label: `${hour}ÊôÇ` };\n    });\n  };\n\n  // ÁîüÊàêÂàÜÈêòÈÅ∏È†ÖÔºà0, 15, 30, 45Ôºâ\n  const generateMinuteOptions = () => {\n    return [0, 15, 30, 45].map(min => {\n      const minute = min.toString().padStart(2, '0');\n      return { value: minute, label: `${minute}ÂàÜ` };\n    });\n  };\n\n  // ÁµÑÂêàÂ∞èÊôÇÂíåÂàÜÈêòÁÇ∫ÊôÇÈñìÂ≠ó‰∏≤ÔºàÂÖÅË®±ÈÉ®ÂàÜÂÄºÔºâ\n  const combineTime = (hour: string, minute: string) => {\n    // Â¶ÇÊûúÂÖ©ÂÄãÂÄºÈÉΩÂ≠òÂú®ÔºåÁµÑÂêàÁÇ∫ HH:MM\n    if (hour && minute) {\n      return `${hour}:${minute}`;\n    }\n    // Â¶ÇÊûúÂè™ÊúâÂ∞èÊôÇÔºå‰øùÂ≠òÁÇ∫ HH:ÔºàÁî®ÊñºÈ°ØÁ§∫Â∑≤ÈÅ∏ÊìáÁöÑÂ∞èÊôÇÔºâ\n    if (hour && !minute) {\n      return `${hour}:`;\n    }\n    // Â¶ÇÊûúÂè™ÊúâÂàÜÈêòÔºåÈúÄË¶ÅÂ∞èÊôÇÊâçËÉΩÁµÑÂêàÔºàÈÄôÁ®ÆÊÉÖÊ≥Å‰∏çÊáâË©≤ÁôºÁîüÔºå‰ΩÜÁÇ∫‰∫ÜÂÆâÂÖ®Ôºâ\n    if (!hour && minute) {\n      return `:${minute}`;\n    }\n    // ÂÖ©ÂÄãÈÉΩÊ≤íÊúâÔºåËøîÂõûÁ©∫Â≠ó‰∏≤\n    return '';\n  };\n\n  // Ëß£ÊûêÊôÇÈñìÂ≠ó‰∏≤ÁÇ∫Â∞èÊôÇÂíåÂàÜÈêòÔºàËôïÁêÜÈÉ®ÂàÜÂÄºÔºâ\n  const parseTime = (timeString: string) => {\n    if (!timeString || timeString === '') {\n      return { hour: '', minute: '' };\n    }\n    // ËôïÁêÜ HH: Ê†ºÂºèÔºàÂè™ÊúâÂ∞èÊôÇÔºâ\n    if (timeString.endsWith(':') && !timeString.includes(':', 3)) {\n      const hour = timeString.replace(':', '');\n      return { hour: hour || '', minute: '' };\n    }\n    // ËôïÁêÜ :MM Ê†ºÂºèÔºàÂè™ÊúâÂàÜÈêòÔºå‰∏çÊáâË©≤ÁôºÁîüÔºâ\n    if (timeString.startsWith(':') && timeString.length === 3) {\n      const minute = timeString.replace(':', '');\n      return { hour: '', minute: minute || '' };\n    }\n    // Ê≠£Â∏∏Ê†ºÂºè HH:MM\n    const [hour, minute] = timeString.split(':');\n    return { \n      hour: hour || '', \n      minute: minute || '' \n    };\n  };\n\n  // Êõ¥Êñ∞ÊôÇÈñìÔºàÂ∞èÊôÇÊàñÂàÜÈêòÔºâ\n  const updateTime = (index: number, timeType: 'start_time' | 'end_time', part: 'hour' | 'minute', value: string) => {\n    const schedule = practiceSchedules[index];\n    const currentTime = schedule[timeType] || '';\n    const { hour, minute } = parseTime(currentTime);\n    \n    const newHour = part === 'hour' ? value : hour;\n    const newMinute = part === 'minute' ? value : minute;\n    const newTime = combineTime(newHour, newMinute);\n    \n    updatePracticeSchedule(index, timeType, newTime);\n  };\n\n  // ËôïÁêÜÁî®Êà∂ÈÅ∏ÊìáËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ\n  const handleSelectPosition = (idolId: string) => {\n    setSelectedPosition(idolId);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!userId) return;\n\n    try {\n      setLoading(true);\n      setError('');\n\n      // È©óË≠âÔºöÂ¶ÇÊûúÈÅ∏‰∫ÜÊ≠åÊõ≤ÔºåÂøÖÈ†àÈÅ∏ÊìáËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ\n      if (formData.song_id && !selectedPosition) {\n        setError('Ë´ãÈÅ∏Êìá‰Ω†Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ');\n        setLoading(false);\n        return;\n      }\n\n      // È©óË≠âÔºöËá≥Â∞ëÈúÄË¶Å‰∏ÄÂÄãÁ∑¥ÁøíÊôÇÈñì\n      const validSchedules = practiceSchedules.filter(\n        (s) => s.date && s.start_time && s.end_time\n      );\n      if (validSchedules.length === 0) {\n        setError('Ë´ãËá≥Â∞ëÊñ∞Â¢û‰∏ÄÂÄãÁ∑¥ÁøíÊôÇÈñì');\n        setLoading(false);\n        return;\n      }\n\n      // ÁîüÊàêÂ∞àÊ°àID\n      const generateProjectId = () => {\n        const timestamp = Date.now();\n        const random = Math.floor(Math.random() * 10000);\n        return timestamp * 10000 + random;\n      };\n\n      let newProjectId = generateProjectId();\n      let attempts = 0;\n      while (attempts < 10) {\n        const { data: checkId } = await supabase\n          .from('project')\n          .select('p_id')\n          .eq('p_id', newProjectId)\n          .single();\n\n        if (!checkId) break;\n        newProjectId = generateProjectId();\n        attempts++;\n      }\n\n      if (attempts >= 10) {\n        setError('Á≥ªÁµ±ÁπÅÂøôÔºåË´ãÁ®çÂæåÂÜçË©¶');\n        return;\n      }\n\n      const now = new Date().toISOString();\n\n      // ÂâµÂª∫Â∞àÊ°à\n      const { error: projectError } = await supabase\n        .from('project')\n        .insert({\n          p_id: newProjectId,\n          creator_id: userId,\n          song_id: formData.song_id ? parseInt(formData.song_id) : null,\n          porject_title: formData.porject_title,\n          target_cnt: parseInt(formData.target_cnt),\n          practice_location: formData.practice_location,\n          performance_location: formData.performance_location,\n          create_at: now,\n          update_at: now,\n          status: 'A', // ÊãõÂãü‰∏≠\n          discription: formData.discription || null,\n        });\n\n      if (projectError) throw projectError;\n\n      // ÂâµÂª∫Á∑¥ÁøíÊôÇÈñìË°®\n      const schedules = validSchedules.map((s) => ({\n        p_id: newProjectId,\n        date: s.date,\n        start_time: s.start_time,\n        end_time: s.end_time,\n      }));\n\n      if (schedules.length > 0) {\n        const { error: scheduleError } = await supabase.from('practice_schedule').insert(schedules);\n        if (scheduleError) throw scheduleError;\n      }\n\n      // ÂâµÂª∫ÊâÄÊúâÁõÆÊ®ô‰ΩçÁΩÆÔºàÂåÖÊã¨Áî®Êà∂ÈÅ∏ÊìáÁöÑ„ÄÅË¶ÅÂæµÁöÑ„ÄÅÂíå‰º¥ËàûÔºâ\n      const allTargets: Array<{\n        target_seq: number;\n        project_id: number;\n        idol_id: number | null;\n        status: 'F' | 'I';\n      }> = [];\n\n      // Ê∑ªÂä†Ë¶ÅÂæµÁöÑ‰ΩçÁΩÆÔºàÁ©∫Áº∫Ôºâ\n      const targets = targetPositions\n        .filter((t) => t.idol_id)\n        .map((t) => ({\n          target_seq: t.target_seq,\n          project_id: newProjectId,\n          idol_id: parseInt(t.idol_id),\n          status: 'I' as const, // Á©∫Áº∫\n        }));\n      allTargets.push(...targets);\n\n      // Â¶ÇÊûúÁî®Êà∂ÈÅ∏Êìá‰∫ÜËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆÔºåÊ∑ªÂä†ÁÇ∫Â∑≤Â°´ÊªøÁöÑ‰ΩçÁΩÆ\n      let userPositionSeq: number | null = null;\n      if (selectedPosition) {\n        // ÊâæÂà∞Áî®Êà∂ÈÅ∏ÊìáÁöÑ‰ΩçÁΩÆÂú®ÂéüÂßãÂàóË°®‰∏≠ÁöÑÁ¥¢Âºï\n        const selectedIndex = songIdols.findIndex(\n          idol => idol.idol_id.toString() === selectedPosition\n        );\n        \n        if (selectedIndex !== -1) {\n          // Áî®Êà∂ÈÅ∏ÊìáÁöÑ‰ΩçÁΩÆÁ∑®ËôüÔºàÂæû1ÈñãÂßãÔºâ\n          userPositionSeq = selectedIndex + 1;\n\n          // Ê™¢Êü•ÊòØÂê¶Â∑≤Á∂ìÂ≠òÂú®ÔºàÁêÜË´ñ‰∏ä‰∏çÊáâË©≤Ôºå‰ΩÜÁÇ∫‰∫ÜÂÆâÂÖ®Ôºâ\n          const exists = allTargets.some(t => t.target_seq === userPositionSeq);\n          if (!exists) {\n            allTargets.push({\n              target_seq: userPositionSeq,\n              project_id: newProjectId,\n              idol_id: parseInt(selectedPosition),\n              status: 'F', // Â∑≤Â°´Êªø\n            });\n          }\n        }\n      }\n\n      // Ê∑ªÂä†‰º¥Ëàû‰ΩçÁΩÆÔºàidol_id ÁÇ∫ NULLÔºâ\n      const dancerCountNum = parseInt(dancerCount) || 0;\n      if (dancerCountNum > 0) {\n        // ÊâæÂá∫ÊúÄÂ§ßÁöÑ target_seqÔºå‰º¥ËàûÂæû‰∏ã‰∏ÄÂÄãÈñãÂßãÁ∑®Ëôü\n        // ÈúÄË¶ÅËÄÉÊÖÆÊâÄÊúâÂ∑≤Ê∑ªÂä†ÁöÑ‰ΩçÁΩÆÔºàÂåÖÊã¨ÂÅ∂ÂÉè‰ΩçÁΩÆÔºâ\n        const existingSeqs = allTargets.map(t => t.target_seq);\n        const maxIdolSeq = songIdols.length; // ÂÅ∂ÂÉèÁöÑÊúÄÂ§ßÁ∑®Ëôü\n        const maxTargetSeq = existingSeqs.length > 0 \n          ? Math.max(...existingSeqs, maxIdolSeq)\n          : maxIdolSeq;\n        \n        // ÁÇ∫ÊØèÂÄã‰º¥ËàûÂâµÂª∫‰∏ÄÂÄã‰ΩçÁΩÆ\n        for (let i = 1; i <= dancerCountNum; i++) {\n          allTargets.push({\n            target_seq: maxTargetSeq + i,\n            project_id: newProjectId,\n            idol_id: null, // ‰º¥ËàûÁöÑ idol_id ÁÇ∫ NULL\n            status: 'I', // Á©∫Áº∫\n          });\n        }\n      }\n\n      // ÂÖà‰∏ÄÊ¨°ÊÄßÊèíÂÖ•ÊâÄÊúâÁõÆÊ®ô‰ΩçÁΩÆÔºàÂøÖÈ†àÂú®ÊèíÂÖ• project_members ‰πãÂâçÔºâ\n      if (allTargets.length > 0) {\n        const { error: targetError } = await supabase.from('project_target').insert(allTargets);\n        if (targetError) throw targetError;\n      }\n\n      // Â¶ÇÊûúÁî®Êà∂ÈÅ∏Êìá‰∫ÜËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆÔºåÂ∞áÂâµÂª∫ËÄÖÂä†ÂÖ•Â∞àÊ°àÊàêÂì°ÔºàÂú® project_target ÊèíÂÖ•‰πãÂæåÔºâ\n      if (selectedPosition && userPositionSeq !== null) {\n        const { error: memberError } = await supabase.from('project_members').insert({\n          p_id: newProjectId,\n          member_id: userId,\n          join_date: new Date().toISOString().split('T')[0],\n          target_seq: userPositionSeq,\n          status: 'Y',\n        });\n\n        if (memberError) throw memberError;\n      }\n\n      router.push(`/project/manage/${newProjectId}`);\n    } catch (err: any) {\n      setError('Âª∫Á´ãÂ§±ÊïóÔºö' + (err.message || 'Êú™Áü•ÈåØË™§'));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-white pb-20\">\n      <div className=\"container mx-auto px-4 py-6\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <h1 className=\"text-3xl font-bold text-purple-600\">Âª∫Á´ãÁøªË∑≥Â∞àÊ°à</h1>\n          <button\n            onClick={() => router.back()}\n            className=\"text-gray-600 hover:text-gray-800\"\n          >\n            ‚Üê ËøîÂõû\n          </button>\n        </div>\n\n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg text-sm\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Âü∫Êú¨Ë≥áË®ä */}\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Âü∫Êú¨Ë≥áË®ä</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Â∞àÊ°àÊ®ôÈ°å *</label>\n                <input\n                  type=\"text\"\n                  value={formData.porject_title}\n                  onChange={(e) => setFormData({ ...formData, porject_title: e.target.value })}\n                  maxLength={50}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ÁøªË∑≥Ê≠åÊõ≤ÔºàÈÅ∏Â°´Ôºâ</label>\n                <select\n                  value={formData.song_id}\n                  onChange={(e) => setFormData({ ...formData, song_id: e.target.value })}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                >\n                  <option value=\"\">ÁÑ°</option>\n                  {songs.map((song) => (\n                    <option key={song.song_id} value={song.song_id}>\n                      {song.title} (Èõ£Â∫¶: {song.difficulty_level}/10)\n                    </option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  ÁõÆÊ®ô‰∫∫Êï∏ * \n                  {formData.song_id && (\n                    <span className=\"text-xs text-gray-500 ml-2\">\n                      (Â∑≤Ê†πÊìöÂúòÈ´îÊàêÂì°Êï∏Ëá™ÂãïÂ°´ÂÖ•)\n                    </span>\n                  )}\n                </label>\n                <input\n                  type=\"number\"\n                  value={formData.target_cnt}\n                  onChange={(e) => setFormData({ ...formData, target_cnt: e.target.value })}\n                  min=\"1\"\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Á∑¥ÁøíÂú∞Èªû *</label>\n                <input\n                  type=\"text\"\n                  value={formData.practice_location}\n                  onChange={(e) => setFormData({ ...formData, practice_location: e.target.value })}\n                  maxLength={50}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">ÊãçÊîùÂú∞Èªû *</label>\n                <input\n                  type=\"text\"\n                  value={formData.performance_location}\n                  onChange={(e) => setFormData({ ...formData, performance_location: e.target.value })}\n                  maxLength={50}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Â∞àÊ°àÊèèËø∞</label>\n                <textarea\n                  value={formData.discription}\n                  onChange={(e) => setFormData({ ...formData, discription: e.target.value })}\n                  maxLength={500}\n                  rows={4}\n                  className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Á∑¥ÁøíÊôÇÈñì */}\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 className=\"text-xl font-bold text-gray-800\">Á∑¥ÁøíÊôÇÈñì</h2>\n              <button\n                type=\"button\"\n                onClick={addPracticeSchedule}\n                className=\"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700\"\n              >\n                + Êñ∞Â¢ûÊôÇÈñì\n              </button>\n            </div>\n            {practiceSchedules.length === 0 ? (\n              <p className=\"text-sm text-gray-500 text-center py-4\">\n                ÈªûÊìä„Äå+ Êñ∞Â¢ûÊôÇÈñì„Äç‰æÜÊñ∞Â¢ûÁ∑¥ÁøíÊôÇÈñì\n              </p>\n            ) : (\n              <div className=\"space-y-3\">\n                {practiceSchedules.map((schedule, index) => (\n                  <div key={index} className=\"flex gap-3 items-end\">\n                    <div className=\"flex-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">Êó•Êúü</label>\n                      <input\n                        type=\"date\"\n                        key={`date-${index}-${schedule.date || 'empty'}`}\n                        value={schedule.date || ''}\n                        onChange={(e) => updatePracticeSchedule(index, 'date', e.target.value || '')}\n                        className=\"w-full px-3 py-2 border border-gray-300 rounded-lg\"\n                        autoComplete=\"off\"\n                        required\n                      />\n                    </div>\n                    <div className=\"flex-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">ÈñãÂßãÊôÇÈñì (24Â∞èÊôÇÂà∂)</label>\n                      <div className=\"flex gap-2\">\n                        <select\n                          value={parseTime(schedule.start_time).hour}\n                          onChange={(e) => updateTime(index, 'start_time', 'hour', e.target.value)}\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                          required\n                        >\n                          <option value=\"\">Ë´ãÈÅ∏Êìá</option>\n                          {generateHourOptions().map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                        <select\n                          value={parseTime(schedule.start_time).minute}\n                          onChange={(e) => updateTime(index, 'start_time', 'minute', e.target.value)}\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                          required\n                        >\n                          <option value=\"\">Ë´ãÈÅ∏Êìá</option>\n                          {generateMinuteOptions().map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    <div className=\"flex-1\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-1\">ÁµêÊùüÊôÇÈñì (24Â∞èÊôÇÂà∂)</label>\n                      <div className=\"flex gap-2\">\n                        <select\n                          value={parseTime(schedule.end_time).hour}\n                          onChange={(e) => updateTime(index, 'end_time', 'hour', e.target.value)}\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                          required\n                        >\n                          <option value=\"\">Ë´ãÈÅ∏Êìá</option>\n                          {generateHourOptions().map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                        <select\n                          value={parseTime(schedule.end_time).minute}\n                          onChange={(e) => updateTime(index, 'end_time', 'minute', e.target.value)}\n                          className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg\"\n                          required\n                        >\n                          <option value=\"\">Ë´ãÈÅ∏Êìá</option>\n                          {generateMinuteOptions().map(opt => (\n                            <option key={opt.value} value={opt.value}>{opt.label}</option>\n                          ))}\n                        </select>\n                      </div>\n                    </div>\n                    <button\n                      type=\"button\"\n                      onClick={() => removePracticeSchedule(index)}\n                      className=\"px-3 py-2 text-red-500 hover:text-red-700 whitespace-nowrap\"\n                    >\n                      Âà™Èô§\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* ÈÅ∏ÊìáËá™Â∑±Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ */}\n          {formData.song_id && songIdols.length > 0 && (\n            <div className=\"bg-white rounded-xl shadow-md p-6\">\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">ÈÅ∏Êìá‰Ω†Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆ *</h2>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Ë´ãÈÅ∏Êìá‰Ω†Ë¶ÅË∑≥ÁöÑ‰ΩçÁΩÆÔºåÂâ©‰∏ãÁöÑ‰ΩçÁΩÆÂ∞áÊúÉËá™ÂãïÊàêÁÇ∫Ë¶ÅÂæµÁöÑ‰ΩçÁΩÆ\n              </p>\n              <select\n                value={selectedPosition}\n                onChange={(e) => handleSelectPosition(e.target.value)}\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                required={formData.song_id ? true : false}\n              >\n                <option value=\"\">Ë´ãÈÅ∏Êìá‰ΩçÁΩÆ</option>\n                {songIdols.map((idol) => (\n                  <option key={idol.idol_id} value={idol.idol_id}>\n                    {idol.stage_name} ({idol.group_name})\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n\n          {/* Ë¶ÅÂæµÁöÑ‰ΩçÁΩÆÔºàËá™ÂãïÁîüÊàêÔºâ */}\n          {targetPositions.length > 0 && (\n            <div className=\"bg-white rounded-xl shadow-md p-6\">\n              <h2 className=\"text-xl font-bold text-gray-800 mb-4\">Ë¶ÅÂæµÁöÑ‰ΩçÁΩÆ</h2>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                ‰ª•‰∏ã‰ΩçÁΩÆÂ∞áÈñãÊîæÊãõÂãüÔºàÂ∑≤ÊéíÈô§‰Ω†ÈÅ∏ÊìáÁöÑ‰ΩçÁΩÆÔºâ\n              </p>\n              <div className=\"space-y-3\">\n                {targetPositions.map((position, index) => {\n                  const idol = songIdols.find(i => i.idol_id.toString() === position.idol_id);\n                  return (\n                    <div key={index} className=\"flex gap-3 items-center p-3 bg-purple-50 rounded-lg\">\n                      <div className=\"w-20\">\n                        <span className=\"text-sm font-medium text-gray-700\">‰ΩçÁΩÆ {position.target_seq}</span>\n                      </div>\n                      <div className=\"flex-1\">\n                        <span className=\"text-gray-800 font-medium\">\n                          {idol ? `${idol.stage_name} (${idol.group_name})` : 'Êú™Áü•'}\n                        </span>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {/* ‰º¥ËàûÊï∏Èáè */}\n          <div className=\"bg-white rounded-xl shadow-md p-6\">\n            <h2 className=\"text-xl font-bold text-gray-800 mb-4\">‰º¥ËàûÈúÄÊ±Ç</h2>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              Ë´ãËº∏ÂÖ•ÈúÄË¶ÅÊãõÂãüÁöÑ‰º¥Ëàû‰∫∫Êï∏Ôºàidol_id ÁÇ∫ NULL ÁöÑ‰º¥ËàûÔºâ\n            </p>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">‰º¥ËàûÊï∏Èáè *</label>\n              <input\n                type=\"number\"\n                value={dancerCount}\n                onChange={(e) => setDancerCount(e.target.value)}\n                min=\"0\"\n                className=\"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n                required\n              />\n              <p className=\"mt-2 text-xs text-gray-500\">\n                ‰º¥ËàûÂ∞áÂú®ÂÅ∂ÂÉè‰ΩçÁΩÆ‰πãÂæåËá™ÂãïÁ∑®Ëôü\n              </p>\n            </div>\n          </div>\n\n          {/* Êèê‰∫§ÊåâÈàï */}\n          <div className=\"flex gap-3\">\n            <button\n              type=\"button\"\n              onClick={() => router.back()}\n              className=\"flex-1 bg-gray-200 text-gray-800 py-3 rounded-lg font-medium hover:bg-gray-300\"\n            >\n              ÂèñÊ∂à\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 bg-purple-600 text-white py-3 rounded-lg font-medium hover:bg-purple-700 disabled:opacity-50\"\n            >\n              {loading ? 'Âª∫Á´ã‰∏≠...' : 'Âª∫Á´ãÂ∞àÊ°à'}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <BottomNav />\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}